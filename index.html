<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç©ºç©ºå†°ç®± - AI æ‹¯æ•‘å‰©èœğŸ¥¬</title>
    <style>
        :root { --primary-color: rgba(253, 205, 131); --bg-color: #F9FFFA; }
        body { font-family: 'PingFang SC', sans-serif; background-color: var(--bg-color); display: flex; justify-content: center; padding: 25px; }
        .container { background: white; padding: 35px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 100%; max-width: 500px; }
        h1 { color: #2d3436; text-align: center; margin-bottom: 5px; }
        .subtitle { text-align: center; color: #b2bec3; margin-bottom: 25px; font-size: 14px; }
        textarea { width: 100%; padding: 20px; border: 2px solid #dfe6e9; border-radius: 12px; box-sizing: border-box; outline: none; transition: 0.3s; resize: none; font-size: 16px; }
        textarea:focus { border-color: var(--primary-color); }
        button { width: 100%; background: var(--primary-color); color: white; border: none; padding: 20px; border-radius: 12px; margin-top: 15px; cursor: pointer; font-size: 16px; font-weight: bold; transition: 0.3s; }
        button:hover { background: #00a087; transform: translateY(-2px); }
        button:disabled { background: #ccc; cursor: not-allowed; }
        #result-area { margin-top: 25px; padding: 25px; background: #fffcf0; border-left: 5px solid #f1c40f; border-radius: 8px; line-height: 1.8; color: #2d3436; display: none; white-space: pre-wrap; }
        .loading { text-align: center; display: none; color: #636e72; margin-top: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ›’ ç©ºç©ºå†°ç®±</h1>
        <div class="subtitle">è®©å‰©ä¸‹çš„é£Ÿæéƒ½è¿›ç›˜å­</div>
        
        <textarea id="ingredients" rows="3" placeholder="å†°ç®±é‡Œè¿˜å‰©ä»€ä¹ˆï¼Ÿæ¯”å¦‚ï¼šåŠä¸ªæ´‹è‘±ã€ä¸€ç›’å‰©ç±³é¥­ã€åŠå—è±†è…..."></textarea>
        <button id="submit-btn" onclick="generateRecipe()">å¸®æˆ‘åŠ å·¥ï¼</button>

        <div id="loading" class="loading"> å¤§å¨æ­£åœ¨çœ‹é£Ÿæï¼Œæ„æ€èœè°±ä¸­...</div>
        <div id="result-area"></div>
    </div>

    <script>
        async function generateRecipe() {
    const ingredients = document.getElementById('ingredients').value;
    const btn = document.getElementById('submit-btn');
    const resultArea = document.getElementById('result-area');
    const loading = document.getElementById('loading');

    if (!ingredients) { alert('è¯·è¾“å…¥é£Ÿæå“¦ï¼'); return; }

    // --- é…ç½®åŒºåŸŸ ---
    // å»ºè®®ï¼šæ£€æŸ¥ä¸€ä¸‹ä½ çš„ Key å¤åˆ¶æ˜¯å¦å®Œæ•´
    const apiKey = 'è¿™é‡Œå¡«å…¥ä½ çš„å¯†é’¥'; 
    // ç¡®ä¿ä½¿ç”¨æœ€æ–°çš„ API åœ°å€
    const apiUrl = 'https://api.deepseek.com/chat/completions'; 

    btn.disabled = true;
    loading.style.display = 'block';
    resultArea.style.display = 'none';

    try {
        const response = await fetch(apiUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${apiKey}`
            },
            // ğŸ’¡ å…³é”®ä¿®æ”¹ç‚¹ï¼šç¡®ä¿ body çš„æ ¼å¼å’Œæ¨¡å‹åç§°å®Œå…¨å‡†ç¡®
            body: JSON.stringify({
                model: "deepseek-chat",
                messages: [
                    { role: "system", content: "ä½ æ˜¯ä¸€ä½ç²¾é€šâ€˜æ¸…å†°ç®±â€™çš„æš–å¿ƒå¤§å¨ã€‚" },
                    { role: "user", content: `æˆ‘æœ‰è¿™äº›é£Ÿæï¼š${ingredients}ã€‚è¯·å¸®æˆ‘è®¾è®¡ä¸€ä¸ªç®€å•å¥½åƒçš„èœè°±ã€‚` }
                ],
                stream: false
            })
        });

        if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.error?.message || 'è¯·æ±‚å¤±è´¥');
        }

        const data = await response.json();
        resultArea.innerText = data.choices[0].message.content;
        resultArea.style.display = 'block';
    } catch (error) {
        console.error(error);
        alert('å¤§å¨é—¹æƒ…ç»ªäº†ï¼š' + error.message);
    } finally {
        btn.disabled = false;
        loading.style.display = 'none';
    }
}
    </script>
</body>
</html>
